// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).ndarray=r()}(this,(function(){"use strict";function t(t){var r=t.default;if("function"==typeof r){var e=function(){return r.apply(this,arguments)};e.prototype=r.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})})),e}var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=function(){try{return r({},"x",{}),!0}catch(t){return!1}},n=Object.defineProperty,i=Object.prototype,o=i.toString,u=i.__defineGetter__,a=i.__defineSetter__,f=i.__lookupGetter__,s=i.__lookupSetter__;var c=function(t,r,e){var n,c,h,l;if("object"!=typeof t||null===t||"[object Array]"===o.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof e||null===e||"[object Array]"===o.call(e))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+e+"`.");if((c="value"in e)&&(f.call(t,r)||s.call(t,r)?(n=t.__proto__,t.__proto__=i,delete t[r],t[r]=e.value,t.__proto__=n):t[r]=e.value),h="get"in e,l="set"in e,c&&(h||l))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return h&&u&&u.call(t,r,e.get),l&&a&&a.call(t,r,e.set),t},h=n,l=c,p=e()?h:l,y=p;var g=function(t,r,e){y(t,r,{configurable:!1,enumerable:!1,writable:!1,value:e})},v=g,d=Math.floor,m=d;var w=function(t){return m(t)===t},b=w;var _=function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&b(t.length)&&t.length>=0&&t.length<=9007199254740991};var E=function(t){return"number"==typeof t};var A=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var O=function(){return A&&"symbol"==typeof Symbol.toStringTag},R=Object.prototype.toString,j=R;var T=function(t){return j.call(t)},P=Object.prototype.hasOwnProperty;var U=function(t,r){return null!=t&&P.call(t,r)},I="function"==typeof Symbol?Symbol.toStringTag:"",S=U,B=I,x=R;var M=T,N=function(t){var r,e,n;if(null==t)return x.call(t);e=t[B],r=S(t,B);try{t[B]=void 0}catch(r){return x.call(t)}return n=x.call(t),r?t[B]=e:delete t[B],n},Y=O()?N:M,C=Number,L=C.prototype.toString;var D=Y,F=C,V=function(t){try{return L.call(t),!0}catch(t){return!1}},k=O();var z=function(t){return"object"==typeof t&&(t instanceof F||(k?V(t):"[object Number]"===D(t)))},G=E,J=z;var W=v,X=function(t){return G(t)||J(t)},$=z;W(X,"isPrimitive",E),W(X,"isObject",$);var q=X,H=Number.POSITIVE_INFINITY,Z=C.NEGATIVE_INFINITY,K=H,Q=Z,tt=w;var rt=function(t){return t<K&&t>Q&&tt(t)},et=q.isPrimitive,nt=rt;var it=function(t){return et(t)&&nt(t)},ot=q.isObject,ut=rt;var at=function(t){return ot(t)&&ut(t.valueOf())},ft=it,st=at;var ct=v,ht=function(t){return ft(t)||st(t)},lt=at;ct(ht,"isPrimitive",it),ct(ht,"isObject",lt);var pt=ht,yt=pt.isPrimitive;var gt=function(t){return yt(t)&&t>=0},vt=pt.isObject;var dt=function(t){return vt(t)&&t.valueOf()>=0},mt=gt,wt=dt;var bt=v,_t=function(t){return mt(t)||wt(t)},Et=dt;bt(_t,"isPrimitive",gt),bt(_t,"isObject",Et);var At=_t,Ot=w;var Rt=function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length&&Ot(t.length)&&t.length>=0&&t.length<=4294967295};var jt=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var e,n;if(!Rt(r))return!1;if(0===(e=r.length))return!1;for(n=0;n<e;n++)if(!1===t(r[n]))return!1;return!0}},Tt=jt,Pt=At,Ut=v,It=Tt,St=It(Pt);Ut(St,"primitives",It(Pt.isPrimitive)),Ut(St,"objects",It(Pt.isObject));var Bt=St,xt=pt,Mt=v,Nt=Tt,Yt=Nt(xt);Mt(Yt,"primitives",Nt(xt.isPrimitive)),Mt(Yt,"objects",Nt(xt.isObject));var Ct=Yt,Lt=/./;var Dt=function(t){return"boolean"==typeof t},Ft=Boolean.prototype.toString;var Vt=Y,kt=function(t){try{return Ft.call(t),!0}catch(t){return!1}},zt=O();var Gt=function(t){return"object"==typeof t&&(t instanceof Boolean||(zt?kt(t):"[object Boolean]"===Vt(t)))},Jt=Dt,Wt=Gt;var Xt=v,$t=function(t){return Jt(t)||Wt(t)},qt=Gt;Xt($t,"isPrimitive",Dt),Xt($t,"isObject",qt);var Ht=$t;var Zt=function(){return new Function("return this;")()},Kt="object"==typeof self?self:null,Qt="object"==typeof window?window:null,tr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},rr="object"==typeof tr?tr:null;module.exports=rr;var er=t(Object.freeze({__proto__:null})),nr=Ht.isPrimitive,ir=Zt,or=Kt,ur=Qt,ar=er;var fr=function(t){if(arguments.length){if(!nr(t))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+t+"`.");if(t)return ir()}if(or)return or;if(ur)return ur;if(ar)return ar;throw new Error("unexpected error. Unable to resolve global object.")},sr=fr,cr=sr(),hr=cr.document&&cr.document.childNodes,lr=Int8Array,pr=Lt,yr=hr,gr=lr;var vr=function(){return"function"==typeof pr||"object"==typeof gr||"function"==typeof yr};var dr=function(){return/^\s*function\s*([^(]*)/i},mr=dr;v(mr,"REGEXP",dr());var wr=mr,br=Y;var _r=Array.isArray?Array.isArray:function(t){return"[object Array]"===br(t)},Er=_r;var Ar=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var e,n;if(!Er(r))return!1;if(0===(e=r.length))return!1;for(n=0;n<e;n++)if(!1===t(r[n]))return!1;return!0}};var Or=function(t){return null!==t&&"object"==typeof t};v(Or,"isObjectLikeArray",Ar(Or));var Rr=Or,jr=Rr;var Tr=function(t){return jr(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))},Pr=Y,Ur=wr.REGEXP,Ir=Tr;var Sr=function(t){var r,e,n;if(("Object"===(e=Pr(t).slice(8,-1))||"Error"===e)&&t.constructor){if("string"==typeof(n=t.constructor).name)return n.name;if(r=Ur.exec(n.toString()))return r[1]}return Ir(t)?"Buffer":e},Br=Sr;var xr=Sr;var Mr=function(t){var r;return null===t?"null":"object"===(r=typeof t)?Br(t).toLowerCase():r},Nr=function(t){return xr(t).toLowerCase()},Yr=vr()?Nr:Mr,Cr=Yr;var Lr=function(t){return"function"===Cr(t)},Dr=["row-major","column-major"];var Fr=function(){return Dr.slice()};v(Fr,"enum",(function(){return{"row-major":1,"column-major":2}}));var Vr=Fr,kr=Vr(),zr=kr.length;var Gr=function(t){var r;for(r=0;r<zr;r++)if(t===kr[r])return!0;return!1},Jr=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];var Wr=function(){return Jr.slice()};var Xr=function(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}},$r=p;var qr=function(t,r,e){$r(t,r,{configurable:!1,enumerable:!0,writable:!1,value:e})},Hr=qr;var Zr=function(t){return Object.keys(Object(t))},Kr=Zr;var Qr=function(){return function(){return 2!==(Kr(arguments)||"").length}(1,2)},te=void 0!==Object.keys,re=Y;var ee,ne=function(t){return"[object Arguments]"===re(t)},ie=ne;ee=function(){return ie(arguments)}();var oe=ee;var ue=function(t){return"string"==typeof t},ae=String.prototype.valueOf;var fe=Y,se=function(t){try{return ae.call(t),!0}catch(t){return!1}},ce=O();var he=function(t){return"object"==typeof t&&(t instanceof String||(ce?se(t):"[object String]"===fe(t)))},le=ue,pe=he;var ye=v,ge=function(t){return le(t)||pe(t)},ve=he;ye(ge,"isPrimitive",ue),ye(ge,"isObject",ve);var de=ge;var me=function(t){return t!=t},we=q.isPrimitive,be=me;var _e=function(t){return we(t)&&be(t)},Ee=q.isObject,Ae=me;var Oe=function(t){return Ee(t)&&Ae(t.valueOf())},Re=_e,je=Oe;var Te=v,Pe=function(t){return Re(t)||je(t)},Ue=Oe;Te(Pe,"isPrimitive",_e),Te(Pe,"isObject",Ue);var Ie=Pe,Se=Object.prototype.propertyIsEnumerable;var Be=!Se.call("beep","0"),xe=de,Me=Ie.isPrimitive,Ne=pt.isPrimitive,Ye=Se,Ce=Be;var Le=function(t,r){var e;return null!=t&&(!(e=Ye.call(t,r))&&Ce&&xe(t)?!Me(r=+r)&&Ne(r)&&r>=0&&r<t.length:e)},De=Le,Fe=U,Ve=De,ke=_r,ze=w;var Ge=oe?ne:function(t){return null!==t&&"object"==typeof t&&!ke(t)&&"number"==typeof t.length&&ze(t.length)&&t.length>=0&&t.length<=4294967295&&Fe(t,"callee")&&!Ve(t,"callee")},Je=Ge,We=Zr,Xe=Array.prototype.slice;var $e=function(t){return Je(t)?We(Xe.call(t)):We(t)};var qe=De((function(){}),"prototype"),He=!De({toString:null},"toString"),Ze=Ie,Ke=_,Qe=de.isPrimitive,tn=pt.isPrimitive;var rn=function(t,r,e){var n,i;if(!Ke(t)&&!Qe(t))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+t+"`.");if(0===(n=t.length))return-1;if(3===arguments.length){if(!tn(e))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+e+"`.");if(e>=0){if(e>=n)return-1;i=e}else(i=n+e)<0&&(i=0)}else i=0;if(Ze(r)){for(;i<n;i++)if(Ze(t[i]))return i}else for(;i<n;i++)if(t[i]===r)return i;return-1},en=rn;var nn,on=function(t){return t.constructor&&t.constructor.prototype===t},un="undefined"==typeof window?void 0:window,an=U,fn=en,sn=Yr,cn=on,hn=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],ln=un;nn=function(){var t;if("undefined"===sn(ln))return!1;for(t in ln)try{-1===fn(hn,t)&&an(ln,t)&&null!==ln[t]&&"object"===sn(ln[t])&&cn(ln[t])}catch(t){return!0}return!1}();var pn="undefined"!=typeof window,yn=nn,gn=on,vn=pn;var dn=Rr,mn=U,wn=Ge,bn=qe,_n=He,En=function(t){if(!1===vn&&!yn)return gn(t);try{return gn(t)}catch(t){return!1}},An=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var On=Zr,Rn=$e,jn=function(t){var r,e,n,i,o,u,a;if(i=[],wn(t)){for(a=0;a<t.length;a++)i.push(a.toString());return i}if("string"==typeof t){if(t.length>0&&!mn(t,"0"))for(a=0;a<t.length;a++)i.push(a.toString())}else{if(!1===(n="function"==typeof t)&&!dn(t))return i;e=bn&&n}for(o in t)e&&"prototype"===o||!mn(t,o)||i.push(String(o));if(_n)for(r=En(t),a=0;a<An.length;a++)u=An[a],r&&"constructor"===u||!mn(t,u)||i.push(String(u));return i},Tn=te?Qr()?Rn:On:jn,Pn=Hr,Un=Tn;var In=function(t,r){var e,n,i;for(e=Un(r),i=0;i<e.length;i++)n=e[i],Pn(t,n,r[n]);return t},Sn=Wr,Bn=Xr,xn=In;v(Sn,"enum",Bn),xn(Sn,Bn());var Mn=Sn,Nn=Mn(),Yn=Nn.length;var Cn=function(t){var r;for(r=0;r<Yn;r++)if(t===Nn[r])return!0;return!1};var Ln=function(t,r,e){var n,i,o,u,a;for(n=t.length,i=e,o=e,a=0;a<n;a++){if(0===t[a])return[e,e];(u=r[a])>0?o+=u*(t[a]-1):u<0&&(i+=u*(t[a]-1))}return[i,o]};v(Ln,"assign",(function(t,r,e,n){var i,o,u,a,f;for(i=t.length,o=e,u=e,f=0;f<i;f++){if(0===t[f])return n[0]=e,n[1]=e,n;(a=r[f])>0?u+=a*(t[f]-1):a<0&&(o+=a*(t[f]-1))}return n[0]=o,n[1]=u,n}));var Dn=Ln,Fn=Dn;var Vn=function(t,r,e,n){var i=Fn(r,e,n);return i[0]>=0&&i[1]<t},kn=Vn;var zn=function(t){var r,e,n;if(0===(r=t.length))return 0;for(e=1,n=0;n<r;n++)e*=t[n];return e},Gn=sr();var Jn=function(){return"function"==typeof Gn.BigInt&&"function"==typeof BigInt&&"bigint"==typeof Gn.BigInt("1")&&"bigint"==typeof BigInt("1")},Wn=p;var Xn=function(t,r,e){Wn(t,r,{configurable:!1,enumerable:!1,get:e})},$n=Xn,qn={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};var Hn=function(t){return qn[t]||null};var Zn=function(t){var r,e;for(r=0,e=0;e<t.length;e++)t[e]<0&&(r+=1);return 0===r?1:r===t.length?-1:0};var Kn=function(t){return Math.abs(t)};var Qn=function(t){var r,e,n,i,o,u;if(0===(e=t.length))return 0;for(r=!0,n=!0,i=Kn(t[0]),u=1;u<e;u++){if(o=Kn(t[u]),r&&o<i?r=!1:n&&o>i&&(n=!1),!n&&!r)return 0;i=o}return n&&r?3:n?1:2};var ti=function(t,r){return r&&(2===t||3===t)};var ri=function(t,r){return r&&(1===t||3===t)},ei=Dn;var ni=function(t,r,e,n,i){var o;return 0!==t&&0!==i&&t===(o=ei(r,e,n))[1]-o[0]+1};var ii=function(t){return{ROW_MAJOR_CONTIGUOUS:t.ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS,READONLY:t.READONLY}};var oi=function(t){var r,e,n,i,o,u;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(e=this._shape,r=this._strides,i=this._offset,"column-major"===this._order){for(u=0;u<n;u++)t-=o=t%e[u],t/=e[u],i+=o*r[u];return this._accessors?this._buffer.get(i):this._buffer[i]}for(u=n-1;u>=0;u--)t-=o=t%e[u],t/=e[u],i+=o*r[u];return this._accessors?this._buffer.get(i):this._buffer[i]};var ui=function(t,r){var e,n,i,o,u,a;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(r,this._offset+t):this._buffer[this._offset+t]=r,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(r,this._offset-t):this._buffer[this._offset-t]=r,this}if(n=this._shape,e=this._strides,o=this._offset,"column-major"===this._order){for(a=0;a<i;a++)t-=u=t%n[a],t/=n[a],o+=u*e[a];return this._accessors?this._buffer.set(r,o):this._buffer[o]=r,this}for(a=i-1;a>=0;a--)t-=u=t%n[a],t/=n[a],o+=u*e[a];return this._accessors?this._buffer.set(r,o):this._buffer[o]=r,this};var ai=function(){var t,r;for(t=this._offset,r=0;r<arguments.length-1;r++)t+=this._strides[r]*arguments[r];return this._accessors?this._buffer.set(arguments[r],t):this._buffer[t]=arguments[r],this};var fi=function(){var t,r;for(t=this._offset,r=0;r<arguments.length;r++)t+=this._strides[r]*arguments[r];return this._accessors?this._buffer.get(t):this._buffer[t]};var si=function(t){return t.re};var ci=function(t){return t.im},hi=si,li=ci;var pi=function(){var t,r,e,n;for(r=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={READONLY:this._flags.READONLY},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<r;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<r;n++)e=this.iget(n),t.data.push(hi(e),li(e));else for(n=0;n<r;n++)t.data.push(this.iget(n));return t},yi=de.isPrimitive,gi=/[-\/\\^$*+?.()|[\]{}]/g;var vi=function(t){var r,e;if(!yi(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");if("/"===t[0])for(e=t.length-1;e>=0&&"/"!==t[e];e--);return void 0===e||e<=0?t.replace(gi,"\\$&"):(r=(r=t.substring(1,e)).replace(gi,"\\$&"),t=t[0]+r+t.substring(e))},di=RegExp.prototype.exec;var mi=Y,wi=function(t){try{return di.call(t),!0}catch(t){return!1}},bi=O();var _i=vi,Ei=Lr,Ai=de.isPrimitive,Oi=function(t){return"object"==typeof t&&(t instanceof RegExp||(bi?wi(t):"[object RegExp]"===mi(t)))};var Ri=function(t,r,e){if(!Ai(t))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+t+"`.");if(Ai(r))r=_i(r),r=new RegExp(r,"g");else if(!Oi(r))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+r+"`.");if(!Ai(e)&&!Ei(e))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+e+"`.");return t.replace(r,e)},ji=Ri,Ti=si,Pi=ci,Ui={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var Ii=function(){var t,r,e,n,i,o,u;if(r=this._shape.length,n="ndarray( '"+(i=this._dtype)+"', ",t="",this._length<=100)if("complex64"===i||"complex128"===i)for(u=0;u<this._length;u++)o=this.iget(u),t+=Ti(o)+", "+Pi(o),u<this._length-1&&(t+=", ");else for(u=0;u<this._length;u++)t+=this.iget(u),u<this._length-1&&(t+=", ");else{if("complex64"===i||"complex128"===i)for(u=0;u<3;u++)o=this.iget(u),t+=Ti(o)+", "+Pi(o),u<2&&(t+=", ");else for(u=0;u<3;u++)t+=this.iget(u),u<2&&(t+=", ");if(t+=", ..., ","complex64"===i||"complex128"===i)for(u=2;u>=0;u--)o=this.iget(this._length-1-u),t+=Ti(o)+", "+Pi(o),u>0&&(t+=", ");else for(u=2;u>=0;u--)t+=this.iget(this._length-1-u),u>0&&(t+=", ")}if(e=Ui[this.dtype],n+=ji(e,"{{data}}",t),n+=", ",n+=0===r?"[]":"[ "+this._shape.join(", ")+" ]",n+=", ",n+="[ ",0===r)n+="0";else for(u=0;u<r;u++)this._strides[u]<0?n+=-this._strides[u]:n+=this._strides[u],u<r-1&&(n+=", ");return n+=" ]",n+=", ",n+="0",n+=", ",n+="'"+this._order+"'",n+=" )"},Si=Y,Bi="function"==typeof Uint8Array;var xi="function"==typeof Uint8Array?Uint8Array:null,Mi=function(t){return Bi&&t instanceof Uint8Array||"[object Uint8Array]"===Si(t)},Ni=xi;var Yi=function(){var t,r;if("function"!=typeof Ni)return!1;try{r=new Ni(r=[1,3.14,-3.14,256,257]),t=Mi(r)&&1===r[0]&&3===r[1]&&253===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var Ci="function"==typeof Uint8Array?Uint8Array:void 0,Li=function(){throw new Error("not implemented")},Di=Yi()?Ci:Li,Fi=Y,Vi="function"==typeof Uint16Array;var ki="function"==typeof Uint16Array?Uint16Array:null,zi=function(t){return Vi&&t instanceof Uint16Array||"[object Uint16Array]"===Fi(t)},Gi=ki;var Ji=function(){var t,r;if("function"!=typeof Gi)return!1;try{r=new Gi(r=[1,3.14,-3.14,65536,65537]),t=zi(r)&&1===r[0]&&3===r[1]&&65533===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var Wi,Xi="function"==typeof Uint16Array?Uint16Array:void 0,$i=function(){throw new Error("not implemented")},qi=Ji()?Xi:$i,Hi={uint16:qi,uint8:Di};(Wi=new Hi.uint16(1))[0]=4660;var Zi=52===new Hi.uint8(Wi.buffer)[0],Ki=Y,Qi="function"==typeof ArrayBuffer;var to=function(t){return Qi&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===Ki(t)},ro=Y,eo="function"==typeof Float64Array;var no="function"==typeof Float64Array?Float64Array:null,io=function(t){return eo&&t instanceof Float64Array||"[object Float64Array]"===ro(t)},oo=no;var uo=function(){var t,r;if("function"!=typeof oo)return!1;try{r=new oo([1,3.14,-3.14,NaN]),t=io(r)&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){t=!1}return t};var ao="function"==typeof Float64Array?Float64Array:void 0,fo=function(){throw new Error("not implemented")},so=uo()?ao:fo,co="function"==typeof ArrayBuffer?ArrayBuffer:null,ho=to,lo=so,po=co;var yo=function(){var t,r,e;if("function"!=typeof po)return!1;try{e=new po(16),(t=ho(e)&&"function"==typeof po.isView)&&((r=new lo(e))[0]=-3.14,r[1]=NaN,t=t&&po.isView(r)&&16===e.byteLength&&-3.14===r[0]&&r[1]!=r[1])}catch(r){t=!1}return t};var go="function"==typeof ArrayBuffer?ArrayBuffer:void 0,vo=function(){throw new Error("not implemented")},mo=yo()?go:vo,wo=Y,bo="function"==typeof DataView;var _o="function"==typeof DataView?DataView:null,Eo=function(t){return bo&&t instanceof DataView||"[object DataView]"===wo(t)},Ao=mo,Oo=_o;var Ro=function(){var t,r,e;if("function"!=typeof Oo)return!1;try{e=new Ao(24),r=new Oo(e,8),(t=Eo(r)&&"function"==typeof r.getFloat64&&"function"==typeof r.setFloat64)&&(r.setFloat64(0,-3.14),r.setFloat64(8,NaN),t=t&&r.buffer===e&&16===r.byteLength&&8===r.byteOffset&&-3.14===r.getFloat64(0)&&r.getFloat64(8)!=r.getFloat64(8))}catch(r){t=!1}return t};var jo="function"==typeof DataView?DataView:void 0,To=function(){throw new Error("not implemented")},Po=Ro()?jo:To,Uo="function"==typeof BigInt?BigInt:void 0,Io=["throw","clamp","wrap"];var So=function(){return Io.slice()};v(So,"enum",(function(){return{throw:1,clamp:2,wrap:3}}));var Bo=So,xo=Zi,Mo=mo,No=Po,Yo=Uo,Co=Vr.enum,Lo=Bo.enum,Do=(0,Mn.enum)(),Fo=Co(),Vo=Lo();var ko=function(){var t,r,e,n,i,o,u,a,f,s,c,h,l,p;if(f=this._mode||"throw",u=this._submode||[f],e=33+16*(h=this._ndims)+(l=u.length),(a=this.__meta_dataview__)&&a.byteLength===e)return a;for(a=new No(new Mo(e)),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,s=0,a.setInt8(s,xo?1:0),s+=1,a.setInt16(s,Do[n],xo),s+=2,a.setBigInt64(s,Yo(h),xo),c=8*h,s+=8,p=0;p<h;p++)a.setBigInt64(s,Yo(i[p]),xo),a.setBigInt64(s+c,Yo(o[p]*t),xo),s+=8;for(s+=c,a.setBigInt64(s,Yo(this._offset*t),xo),s+=8,a.setInt8(s,Fo[this._order]),s+=1,a.setInt8(s,Vo[f]),s+=1,a.setBigInt64(s,Yo(l),xo),s+=8,p=0;p<l;p++)a.setInt8(s,Vo[u[p]]),s+=1;return r=0,r|=this._flags.READONLY?4:0,a.setInt32(s,r,xo),this.__meta_dataview__=a,a},zo=Zi,Go=Di,Jo=Po,Wo=d;var Xo=function(t){var r,e,n,i;return r=new Go(8),0===t||(i=(4294967295&t)>>>0,n=Wo(t/4294967296),e=new Jo(r.buffer),zo?(e.setUint32(0,i,zo),e.setUint32(4,n,zo)):(e.setUint32(0,n,zo),e.setUint32(4,i,zo))),r},$o=Zi,qo=Po,Ho=d,Zo=new Di(8),Ko=new qo(Zo.buffer);var Qo=Xo;v(Qo,"assign",(function(t,r,e,n){var i,o,u;if(0===t){for(u=0;u<Zo.length;u++)r[n]=0,n+=e;return r}for(o=(4294967295&t)>>>0,i=Ho(t/4294967296),$o?(Ko.setUint32(0,o,$o),Ko.setUint32(4,i,$o)):(Ko.setUint32(0,i,$o),Ko.setUint32(4,o,$o)),u=0;u<Zo.length;u++)r[n]=Zo[u],n+=e;return r}));var tu=Zi,ru=mo,eu=Po,nu=Di,iu=Vr.enum,ou=Bo.enum,uu=Qo.assign,au=(0,Mn.enum)(),fu=iu(),su=ou();var cu=function(){var t,r,e,n,i,o,u,a,f,s,c,h,l,p,y;if(s=this._mode||"throw",a=this._submode||[s],n=33+16*(l=this._ndims)+(p=a.length),(f=this.__meta_dataview__)&&f.byteLength===n)return f;for(f=new eu(new ru(n)),r=new nu(f.buffer),o=this._shape,u=this._strides,i=this._dtype,t=this._bytesPerElement,c=0,f.setInt8(c,tu?1:0),c+=1,f.setInt16(c,au[i],tu),uu(l,r,1,c+=2),h=8*l,c+=8,y=0;y<l;y++)uu(o[y],r,1,c),uu(u[y]*t,r,1,c+h),c+=8;for(c+=h,uu(this._offset*t,r,1,c),c+=8,f.setInt8(c,fu[this._order]),c+=1,f.setInt8(c,su[s]),uu(p,r,1,c+=1),c+=8,y=0;y<p;y++)f.setInt8(c,su[a[y]]),c+=1;return e=0,e|=this._flags.READONLY?4:0,f.setInt32(c,e,tu),this.__meta_dataview__=f,f},hu=Jn,lu=v,pu=$n,yu=Hn,gu=Zn,vu=Qn,du=ti,mu=ri,wu=ni,bu=ii,_u=oi,Eu=ui,Au=ai,Ou=fi,Ru=pi,ju=Ii,Tu=ko,Pu=cu;function Uu(t,r,e,n,i,o){var u,a,f,s,c;if(!(this instanceof Uu))return new Uu(t,r,e,n,i,o);for(s=1,c=0;c<e.length;c++)s*=e[c];return a=r.BYTES_PER_ELEMENT?r.BYTES_PER_ELEMENT*s:null,this._byteLength=a,this._bytesPerElement=yu(t),this._buffer=r,this._dtype=t,this._length=s,this._ndims=e.length,this._offset=i,this._order=o,this._shape=e,this._strides=n,this._accessors=Boolean(r.get&&r.set),this._iterationOrder=gu(n),u=wu(s,e,n,i,this._iterationOrder),f=vu(n),this._flags={ROW_MAJOR_CONTIGUOUS:mu(f,u),COLUMN_MAJOR_CONTIGUOUS:du(f,u),READONLY:!1},this.__meta_dataview__=null,this}lu(Uu,"name","ndarray"),pu(Uu.prototype,"byteLength",(function(){return this._byteLength})),pu(Uu.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),pu(Uu.prototype,"data",(function(){return this._buffer})),pu(Uu.prototype,"dtype",(function(){return this._dtype})),pu(Uu.prototype,"flags",(function(){return bu(this._flags)})),pu(Uu.prototype,"length",(function(){return this._length})),pu(Uu.prototype,"ndims",(function(){return this._ndims})),pu(Uu.prototype,"offset",(function(){return this._offset})),pu(Uu.prototype,"order",(function(){return this._order})),pu(Uu.prototype,"shape",(function(){return this._shape.slice()})),pu(Uu.prototype,"strides",(function(){return this._strides.slice()})),lu(Uu.prototype,"get",Ou),lu(Uu.prototype,"iget",_u),lu(Uu.prototype,"set",Au),lu(Uu.prototype,"iset",Eu),lu(Uu.prototype,"toString",ju),lu(Uu.prototype,"toJSON",Ru),lu(Uu.prototype,"__array_meta_dataview__",hu()?Tu:Pu);var Iu=Uu;var Su=function(t){var r=typeof t;return null===t||"object"!==r&&"function"!==r?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+t+"`."):null},Bu=Object.create;function xu(){}var Mu=function(t){return xu.prototype=t,new xu},Nu=p,Yu=Su,Cu="function"==typeof Bu?Bu:Mu;var Lu=function(t,r){var e=Yu(t);if(e)throw e;if(e=Yu(r))throw e;if(void 0===r.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+r.prototype+"`.");return t.prototype=Cu(r.prototype),Nu(t.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:t}),t},Du=Lu,Fu=Object.getPrototypeOf;var Vu=function(t){return t.__proto__},ku=Y,zu=Vu;var Gu=function(t){var r=zu(t);return r||null===r?r:"[object Function]"===ku(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null},Ju=Fu,Wu=Gu,Xu=Lr(Object.getPrototypeOf)?Ju:Wu;var $u=function(t){return null==t?null:(t=Object(t),Xu(t))},qu=$u,Hu=Y;var Zu=function(t){if("object"!=typeof t||null===t)return!1;if(t instanceof Error)return!0;for(;t;){if("[object Error]"===Hu(t))return!0;t=qu(t)}return!1};var Ku=function(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/},Qu=Ku;v(Qu,"REGEXP",Ku());var ta=de.isPrimitive,ra=Qu;var ea=function(t){if(!ta(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");return(t=ra().exec(t))?new RegExp(t[1],t[2]):null},na=void 0!==Object.getOwnPropertyNames,ia=Object.getOwnPropertyNames;var oa=Tn;var ua=na?function(t){return ia(Object(t))}:function(t){return oa(Object(t))},aa=void 0!==Object.getOwnPropertyDescriptor,fa=Object.getOwnPropertyDescriptor;var sa=U;var ca=aa?function(t,r){var e;return null==t||void 0===(e=fa(t,r))?null:e}:function(t,r){return sa(t,r)?{configurable:!0,enumerable:!0,writable:!0,value:t[r]}:null},ha=[],la=[],pa="undefined"!=typeof Uint8Array?Uint8Array:Array,ya=!1;function ga(){ya=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=t.length;r<e;++r)ha[r]=t[r],la[t.charCodeAt(r)]=r;la["-".charCodeAt(0)]=62,la["_".charCodeAt(0)]=63}function va(t,r,e){for(var n,i,o=[],u=r;u<e;u+=3)n=(t[u]<<16)+(t[u+1]<<8)+t[u+2],o.push(ha[(i=n)>>18&63]+ha[i>>12&63]+ha[i>>6&63]+ha[63&i]);return o.join("")}function da(t){var r;ya||ga();for(var e=t.length,n=e%3,i="",o=[],u=16383,a=0,f=e-n;a<f;a+=u)o.push(va(t,a,a+u>f?f:a+u));return 1===n?(r=t[e-1],i+=ha[r>>2],i+=ha[r<<4&63],i+="=="):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=ha[r>>10],i+=ha[r>>4&63],i+=ha[r<<2&63],i+="="),o.push(i),o.join("")}function ma(t,r,e,n,i){var o,u,a=8*i-n-1,f=(1<<a)-1,s=f>>1,c=-7,h=e?i-1:0,l=e?-1:1,p=t[r+h];for(h+=l,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[r+h],h+=l,c-=8);for(u=o&(1<<-c)-1,o>>=-c,c+=n;c>0;u=256*u+t[r+h],h+=l,c-=8);if(0===o)o=1-s;else{if(o===f)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,n),o-=s}return(p?-1:1)*u*Math.pow(2,o-n)}function wa(t,r,e,n,i,o){var u,a,f,s=8*o-i-1,c=(1<<s)-1,h=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,y=n?1:-1,g=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(a=isNaN(r)?1:0,u=c):(u=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-u))<1&&(u--,f*=2),(r+=u+h>=1?l/f:l*Math.pow(2,1-h))*f>=2&&(u++,f/=2),u+h>=c?(a=0,u=c):u+h>=1?(a=(r*f-1)*Math.pow(2,i),u+=h):(a=r*Math.pow(2,h-1)*Math.pow(2,i),u=0));i>=8;t[e+p]=255&a,p+=y,a/=256,i-=8);for(u=u<<i|a,s+=i;s>0;t[e+p]=255&u,p+=y,u/=256,s-=8);t[e+p-y]|=128*g}var ba={}.toString,_a=Array.isArray||function(t){return"[object Array]"==ba.call(t)};Ra.TYPED_ARRAY_SUPPORT=void 0===tr.TYPED_ARRAY_SUPPORT||tr.TYPED_ARRAY_SUPPORT;var Ea=Aa();function Aa(){return Ra.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Oa(t,r){if(Aa()<r)throw new RangeError("Invalid typed array length");return Ra.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=Ra.prototype:(null===t&&(t=new Ra(r)),t.length=r),t}function Ra(t,r,e){if(!(Ra.TYPED_ARRAY_SUPPORT||this instanceof Ra))return new Ra(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return Pa(this,t)}return ja(this,t,r,e)}function ja(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n);Ra.TYPED_ARRAY_SUPPORT?(t=r).__proto__=Ra.prototype:t=Ua(t,r);return t}(t,r,e,n):"string"==typeof r?function(t,r,e){"string"==typeof e&&""!==e||(e="utf8");if(!Ra.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Ba(r,e),i=(t=Oa(t,n)).write(r,e);i!==n&&(t=t.slice(0,i));return t}(t,r,e):function(t,r){if(Sa(r)){var e=0|Ia(r.length);return 0===(t=Oa(t,e)).length||r.copy(t,0,0,e),t}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(n=r.length)!=n?Oa(t,0):Ua(t,r);if("Buffer"===r.type&&_a(r.data))return Ua(t,r.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function Ta(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Pa(t,r){if(Ta(r),t=Oa(t,r<0?0:0|Ia(r)),!Ra.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function Ua(t,r){var e=r.length<0?0:0|Ia(r.length);t=Oa(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function Ia(t){if(t>=Aa())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Aa().toString(16)+" bytes");return 0|t}function Sa(t){return!(null==t||!t._isBuffer)}function Ba(t,r){if(Sa(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return uf(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return af(t).length;default:if(n)return uf(t).length;r=(""+r).toLowerCase(),n=!0}}function xa(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return $a(this,r,e);case"utf8":case"utf-8":return Ga(this,r,e);case"ascii":return Wa(this,r,e);case"latin1":case"binary":return Xa(this,r,e);case"base64":return za(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qa(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Ma(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function Na(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=Ra.from(r,n)),Sa(r))return 0===r.length?-1:Ya(t,r,e,n,i);if("number"==typeof r)return r&=255,Ra.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):Ya(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Ya(t,r,e,n,i){var o,u=1,a=t.length,f=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,a/=2,f/=2,e/=2}function s(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var c=-1;for(o=e;o<a;o++)if(s(t,o)===s(r,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===f)return c*u}else-1!==c&&(o-=o-c),c=-1}else for(e+f>a&&(e=a-f),o=e;o>=0;o--){for(var h=!0,l=0;l<f;l++)if(s(t,o+l)!==s(r,l)){h=!1;break}if(h)return o}return-1}function Ca(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var a=parseInt(r.substr(2*u,2),16);if(isNaN(a))return u;t[e+u]=a}return u}function La(t,r,e,n){return ff(uf(r,t.length-e),t,e,n)}function Da(t,r,e,n){return ff(function(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(r),t,e,n)}function Fa(t,r,e,n){return Da(t,r,e,n)}function Va(t,r,e,n){return ff(af(r),t,e,n)}function ka(t,r,e,n){return ff(function(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}(r,t.length-e),t,e,n)}function za(t,r,e){return 0===r&&e===t.length?da(t):da(t.slice(r,e))}function Ga(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,a,f,s=t[i],c=null,h=s>239?4:s>223?3:s>191?2:1;if(i+h<=e)switch(h){case 1:s<128&&(c=s);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&s)<<6|63&o)>127&&(c=f);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(f=(15&s)<<12|(63&o)<<6|63&u)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:o=t[i+1],u=t[i+2],a=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&a)&&(f=(15&s)<<18|(63&o)<<12|(63&u)<<6|63&a)>65535&&f<1114112&&(c=f)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}return function(t){var r=t.length;if(r<=Ja)return String.fromCharCode.apply(String,t);var e="",n=0;for(;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=Ja));return e}(n)}Ra.poolSize=8192,Ra._augment=function(t){return t.__proto__=Ra.prototype,t},Ra.from=function(t,r,e){return ja(null,t,r,e)},Ra.TYPED_ARRAY_SUPPORT&&(Ra.prototype.__proto__=Uint8Array.prototype,Ra.__proto__=Uint8Array),Ra.alloc=function(t,r,e){return function(t,r,e,n){return Ta(r),r<=0?Oa(t,r):void 0!==e?"string"==typeof n?Oa(t,r).fill(e,n):Oa(t,r).fill(e):Oa(t,r)}(null,t,r,e)},Ra.allocUnsafe=function(t){return Pa(null,t)},Ra.allocUnsafeSlow=function(t){return Pa(null,t)},Ra.isBuffer=sf,Ra.compare=function(t,r){if(!Sa(t)||!Sa(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},Ra.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ra.concat=function(t,r){if(!_a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Ra.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=Ra.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var o=t[e];if(!Sa(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Ra.byteLength=Ba,Ra.prototype._isBuffer=!0,Ra.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)Ma(this,r,r+1);return this},Ra.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)Ma(this,r,r+3),Ma(this,r+1,r+2);return this},Ra.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)Ma(this,r,r+7),Ma(this,r+1,r+6),Ma(this,r+2,r+5),Ma(this,r+3,r+4);return this},Ra.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Ga(this,0,t):xa.apply(this,arguments)},Ra.prototype.equals=function(t){if(!Sa(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Ra.compare(this,t)},Ra.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Ra.prototype.compare=function(t,r,e,n,i){if(!Sa(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),a=Math.min(o,u),f=this.slice(n,i),s=t.slice(r,e),c=0;c<a;++c)if(f[c]!==s[c]){o=f[c],u=s[c];break}return o<u?-1:u<o?1:0},Ra.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},Ra.prototype.indexOf=function(t,r,e){return Na(this,t,r,e,!0)},Ra.prototype.lastIndexOf=function(t,r,e){return Na(this,t,r,e,!1)},Ra.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ca(this,t,r,e);case"utf8":case"utf-8":return La(this,t,r,e);case"ascii":return Da(this,t,r,e);case"latin1":case"binary":return Fa(this,t,r,e);case"base64":return Va(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ka(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Ra.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ja=4096;function Wa(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function Xa(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function $a(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=of(t[o]);return i}function qa(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Ha(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function Za(t,r,e,n,i,o){if(!Sa(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function Ka(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Qa(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function tf(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function rf(t,r,e,n,i){return i||tf(t,0,e,4),wa(t,r,e,n,23,4),e+4}function ef(t,r,e,n,i){return i||tf(t,0,e,8),wa(t,r,e,n,52,8),e+8}Ra.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),Ra.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=Ra.prototype;else{var i=r-t;e=new Ra(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},Ra.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||Ha(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},Ra.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||Ha(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},Ra.prototype.readUInt8=function(t,r){return r||Ha(t,1,this.length),this[t]},Ra.prototype.readUInt16LE=function(t,r){return r||Ha(t,2,this.length),this[t]|this[t+1]<<8},Ra.prototype.readUInt16BE=function(t,r){return r||Ha(t,2,this.length),this[t]<<8|this[t+1]},Ra.prototype.readUInt32LE=function(t,r){return r||Ha(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Ra.prototype.readUInt32BE=function(t,r){return r||Ha(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Ra.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||Ha(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},Ra.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||Ha(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},Ra.prototype.readInt8=function(t,r){return r||Ha(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Ra.prototype.readInt16LE=function(t,r){r||Ha(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},Ra.prototype.readInt16BE=function(t,r){r||Ha(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},Ra.prototype.readInt32LE=function(t,r){return r||Ha(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Ra.prototype.readInt32BE=function(t,r){return r||Ha(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Ra.prototype.readFloatLE=function(t,r){return r||Ha(t,4,this.length),ma(this,t,!0,23,4)},Ra.prototype.readFloatBE=function(t,r){return r||Ha(t,4,this.length),ma(this,t,!1,23,4)},Ra.prototype.readDoubleLE=function(t,r){return r||Ha(t,8,this.length),ma(this,t,!0,52,8)},Ra.prototype.readDoubleBE=function(t,r){return r||Ha(t,8,this.length),ma(this,t,!1,52,8)},Ra.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||Za(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},Ra.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||Za(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},Ra.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,1,255,0),Ra.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},Ra.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,2,65535,0),Ra.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Ka(this,t,r,!0),r+2},Ra.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,2,65535,0),Ra.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Ka(this,t,r,!1),r+2},Ra.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,4,4294967295,0),Ra.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):Qa(this,t,r,!0),r+4},Ra.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,4,4294967295,0),Ra.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):Qa(this,t,r,!1),r+4},Ra.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);Za(this,t,r,e,i-1,-i)}var o=0,u=1,a=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===a&&0!==this[r+o-1]&&(a=1),this[r+o]=(t/u>>0)-a&255;return r+e},Ra.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);Za(this,t,r,e,i-1,-i)}var o=e-1,u=1,a=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===a&&0!==this[r+o+1]&&(a=1),this[r+o]=(t/u>>0)-a&255;return r+e},Ra.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,1,127,-128),Ra.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},Ra.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,2,32767,-32768),Ra.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Ka(this,t,r,!0),r+2},Ra.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,2,32767,-32768),Ra.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Ka(this,t,r,!1),r+2},Ra.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,4,2147483647,-2147483648),Ra.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):Qa(this,t,r,!0),r+4},Ra.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||Za(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Ra.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):Qa(this,t,r,!1),r+4},Ra.prototype.writeFloatLE=function(t,r,e){return rf(this,t,r,!0,e)},Ra.prototype.writeFloatBE=function(t,r,e){return rf(this,t,r,!1,e)},Ra.prototype.writeDoubleLE=function(t,r,e){return ef(this,t,r,!0,e)},Ra.prototype.writeDoubleBE=function(t,r,e){return ef(this,t,r,!1,e)},Ra.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!Ra.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},Ra.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Ra.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=Sa(t)?t:uf(new Ra(t,n).toString()),a=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%a]}return this};var nf=/[^+\/0-9A-Za-z-_]/g;function of(t){return t<16?"0"+t.toString(16):t.toString(16)}function uf(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function af(t){return function(t){var r,e,n,i,o,u;ya||ga();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[a-2]?2:"="===t[a-1]?1:0,u=new pa(3*a/4-o),n=o>0?a-4:a;var f=0;for(r=0,e=0;r<n;r+=4,e+=3)i=la[t.charCodeAt(r)]<<18|la[t.charCodeAt(r+1)]<<12|la[t.charCodeAt(r+2)]<<6|la[t.charCodeAt(r+3)],u[f++]=i>>16&255,u[f++]=i>>8&255,u[f++]=255&i;return 2===o?(i=la[t.charCodeAt(r)]<<2|la[t.charCodeAt(r+1)]>>4,u[f++]=255&i):1===o&&(i=la[t.charCodeAt(r)]<<10|la[t.charCodeAt(r+1)]<<4|la[t.charCodeAt(r+2)]>>2,u[f++]=i>>8&255,u[f++]=255&i),u}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(nf,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function ff(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function sf(t){return null!=t&&(!!t._isBuffer||cf(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&cf(t.slice(0,0))}(t))}function cf(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var hf=Object.freeze({__proto__:null,Buffer:Ra,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Ra.alloc(+t)},isBuffer:sf,kMaxLength:Ea}),lf=Ra;module.exports=lf;var pf=Tr,yf=t(Object.freeze({__proto__:null}));var gf=function(){var t,r;if("function"!=typeof yf)return!1;try{r="function"==typeof yf.from?yf.from([1,2,3,4]):new yf([1,2,3,4]),t=pf(r)&&1===r[0]&&2===r[1]&&3===r[2]&&4===r[3]}catch(r){t=!1}return t},vf=gf;var df=t(hf).Buffer,mf=function(){throw new Error("not implemented")},wf=vf()?df:mf,bf=Lr(wf.from),_f=Tr,Ef=wf;var Af=function(t){if(!_f(t))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+t+"`");return Ef.from(t)},Of=Tr,Rf=wf;var jf=function(t){if(!Of(t))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+t+"`");return new Rf(t)},Tf=bf?Af:jf,Pf=Y,Uf="function"==typeof Int8Array;var If="function"==typeof Int8Array?Int8Array:null,Sf=function(t){return Uf&&t instanceof Int8Array||"[object Int8Array]"===Pf(t)},Bf=If;var xf=function(){var t,r;if("function"!=typeof Bf)return!1;try{r=new Bf([1,3.14,-3.14,128]),t=Sf(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-128===r[3]}catch(r){t=!1}return t};var Mf="function"==typeof Int8Array?Int8Array:void 0,Nf=function(){throw new Error("not implemented")},Yf=xf()?Mf:Nf,Cf=Y,Lf="function"==typeof Uint8ClampedArray;var Df="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null,Ff=function(t){return Lf&&t instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===Cf(t)},Vf=Df;var kf=function(){var t,r;if("function"!=typeof Vf)return!1;try{r=new Vf([-1,0,1,3.14,4.99,255,256]),t=Ff(r)&&0===r[0]&&0===r[1]&&1===r[2]&&3===r[3]&&5===r[4]&&255===r[5]&&255===r[6]}catch(r){t=!1}return t};var zf="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0,Gf=function(){throw new Error("not implemented")},Jf=kf()?zf:Gf,Wf=Y,Xf="function"==typeof Int16Array;var $f="function"==typeof Int16Array?Int16Array:null,qf=function(t){return Xf&&t instanceof Int16Array||"[object Int16Array]"===Wf(t)},Hf=$f;var Zf=function(){var t,r;if("function"!=typeof Hf)return!1;try{r=new Hf([1,3.14,-3.14,32768]),t=qf(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-32768===r[3]}catch(r){t=!1}return t};var Kf="function"==typeof Int16Array?Int16Array:void 0,Qf=function(){throw new Error("not implemented")},ts=Zf()?Kf:Qf,rs=Y,es="function"==typeof Int32Array;var ns="function"==typeof Int32Array?Int32Array:null,is=function(t){return es&&t instanceof Int32Array||"[object Int32Array]"===rs(t)},os=ns;var us=function(){var t,r;if("function"!=typeof os)return!1;try{r=new os([1,3.14,-3.14,2147483648]),t=is(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-2147483648===r[3]}catch(r){t=!1}return t};var as="function"==typeof Int32Array?Int32Array:void 0,fs=function(){throw new Error("not implemented")},ss=us()?as:fs,cs=Y,hs="function"==typeof Uint32Array;var ls="function"==typeof Uint32Array?Uint32Array:null,ps=function(t){return hs&&t instanceof Uint32Array||"[object Uint32Array]"===cs(t)},ys=ls;var gs=function(){var t,r;if("function"!=typeof ys)return!1;try{r=new ys(r=[1,3.14,-3.14,4294967296,4294967297]),t=ps(r)&&1===r[0]&&3===r[1]&&4294967293===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var vs="function"==typeof Uint32Array?Uint32Array:void 0,ds=function(){throw new Error("not implemented")},ms=gs()?vs:ds,ws=Y,bs="function"==typeof Float32Array;var _s="function"==typeof Float32Array?Float32Array:null,Es=function(t){return bs&&t instanceof Float32Array||"[object Float32Array]"===ws(t)},As=H,Os=_s;var Rs=function(){var t,r;if("function"!=typeof Os)return!1;try{r=new Os([1,3.14,-3.14,5e40]),t=Es(r)&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===As}catch(r){t=!1}return t};var js,Ts="function"==typeof Float32Array?Float32Array:void 0,Ps=function(){throw new Error("not implemented")};js=Rs()?Ts:Ps;var Us=Yf,Is=Di,Ss=Jf,Bs=ts,xs=qi,Ms=ss,Ns=ms,Ys=js,Cs=so;function Ls(t){return new Us(t)}function Ds(t){return new Is(t)}function Fs(t){return new Ss(t)}function Vs(t){return new Bs(t)}function ks(t){return new xs(t)}function zs(t){return new Ms(t)}function Gs(t){return new Ns(t)}function Js(t){return new Ys(t)}function Ws(t){return new Cs(t)}var Xs=U,$s=_r,qs=Tr,Hs=Zu,Zs=Yr,Ks=ea,Qs=en,tc=Tn,rc=ua,ec=ca,nc=$u,ic=p,oc=Tf,uc={int8array:Ls,uint8array:Ds,uint8clampedarray:Fs,int16array:Vs,uint16array:ks,int32array:zs,uint32array:Gs,float32array:Js,float64array:Ws};function ac(t,r,e,n,i){var o,u,a,f,s,c,h,l,p,y;if(i-=1,"object"!=typeof t||null===t)return t;if(qs(t))return oc(t);if(Hs(t))return function(t){var r,e,n,i,o,u,a=[],f=[];for(o=new t.constructor(t.message),a.push(t),f.push(o),t.stack&&(o.stack=t.stack),t.code&&(o.code=t.code),t.errno&&(o.errno=t.errno),t.syscall&&(o.syscall=t.syscall),r=tc(t),u=0;u<r.length;u++)i=r[u],e=ec(t,i),Xs(e,"value")&&(n=$s(t[i])?[]:{},e.value=ac(t[i],n,a,f,-1)),ic(o,i,e);return o}(t);if("date"===(a=Zs(t)))return new Date(+t);if("regexp"===a)return Ks(t.toString());if("set"===a)return new Set(t);if("map"===a)return new Map(t);if("string"===a||"boolean"===a||"number"===a)return t.valueOf();if(s=uc[a])return s(t);if("array"!==a&&"object"!==a)return"function"==typeof Object.freeze?function(t){var r,e,n,i,o,u,a,f;for(r=[],i=[],a=Object.create(nc(t)),r.push(t),i.push(a),e=rc(t),f=0;f<e.length;f++)n=e[f],o=ec(t,n),Xs(o,"value")&&(u=$s(t[n])?[]:{},o.value=ac(t[n],u,r,i,-1)),ic(a,n,o);return Object.isExtensible(t)||Object.preventExtensions(a),Object.isSealed(t)&&Object.seal(a),Object.isFrozen(t)&&Object.freeze(a),a}(t):{};if(u=tc(t),i>0)for(o=a,y=0;y<u.length;y++)l=t[c=u[y]],a=Zs(l),"object"!=typeof l||null===l||"array"!==a&&"object"!==a||qs(l)?"object"===o?(f=ec(t,c),Xs(f,"value")&&(f.value=ac(l)),ic(r,c,f)):r[c]=ac(l):-1===(p=Qs(e,l))?(h=$s(l)?new Array(l.length):{},e.push(l),n.push(h),"array"===o?r[c]=ac(l,h,e,n,i):(f=ec(t,c),Xs(f,"value")&&(f.value=ac(l,h,e,n,i)),ic(r,c,f))):r[c]=n[p];else if("array"===a)for(y=0;y<u.length;y++)r[c=u[y]]=t[c];else for(y=0;y<u.length;y++)c=u[y],f=ec(t,c),ic(r,c,f);return Object.isExtensible(t)||Object.preventExtensions(r),Object.isSealed(t)&&Object.seal(r),Object.isFrozen(t)&&Object.freeze(r),r}var fc=ac,sc=_r,cc=At.isPrimitive,hc=H,lc=fc;var pc=function(t,r){var e;if(arguments.length>1){if(!cc(r))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+r+"`.");if(0===r)return t}else r=hc;return e=sc(t)?new Array(t.length):{},lc(t,e,[t],[e],r)},yc=pc,gc=_r;var vc=function(t){return"object"==typeof t&&null!==t&&!gc(t)},dc=Lr,mc=$u,wc=U,bc=Y,_c=Object.prototype;var Ec=function(t){var r;return!!vc(t)&&(!(r=mc(t))||!wc(t,"constructor")&&wc(r,"constructor")&&dc(r.constructor)&&"[object Function]"===bc(r.constructor)&&wc(r,"isPrototypeOf")&&dc(r.isPrototypeOf)&&(r===_c||function(t){var r;for(r in t)if(!wc(t,r))return!1;return!0}(t)))},Ac=Ec,Oc=Ac,Rc=U,jc=de.isPrimitive;var Tc={url:"https://stdlib.io/docs/api/latest/error-decoder.html",message:"Minified stdlib error code: {{code}}. Visit {{url}} for the full message."},Pc=Ri,Uc=yc,Ic=function(t,r){return Oc(r)?Rc(r,"url")&&(t.url=r.url,!jc(t.url))?new TypeError("invalid option. `url` option must be a string primitive. Option: `"+t.url+"`."):Rc(r,"message")&&(t.message=r.message,!jc(t.message))?new TypeError("invalid option. `message` option must be a string primitive. Option: `"+t.message+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+r+"`.")},Sc=Tc;var Bc=function(t){var r,e;if(r=Uc(Sc),e=Ic(r,t))throw e;return function(){var t,e,n=arguments[0],i=r.url+"?code="+n;for(e=1;e<arguments.length;e++)i+="&arg[]="+encodeURIComponent(arguments[e]);return t=Pc(r.message,"{{url}}",i),t=Pc(t,"{{code}}",n)}},xc=Bc(Tc);v(xc,"factory",Bc);var Mc=xc,Nc="throw",Yc=!1;var Cc=function(t,r){return t<0?0:t>r?r:t},Lc=function(t,r){var e=r+1;return t<0?((t+=e)<0&&0!==(t%=e)&&(t+=e),t):t>r?((t-=e)>r&&(t%=e),t):t};var Dc=function(t,r,e){if("clamp"===e)return Cc(t,r);if("wrap"===e)return Lc(t,r);if(t<0||t>r)throw new RangeError("invalid argument. Index must be on the interval: [0,"+r+"]. Value: `"+t+"`.");return t},Fc=Dc,Vc=Iu.prototype.iget;var kc=Iu.prototype.iset;function zc(t,r){var e,n;for(e=[],n=0;n<r;n++)e.push(t[n]);return e}var Gc=Bo(),Jc=Gc.length;var Wc=function(t){var r;for(r=0;r<Jc;r++)if(t===Gc[r])return!0;return!1};function Xc(t,r){var e;if(!Ac(r))return new TypeError(Mc("0Mp2h",r));if(U(r,"mode")&&(t.mode=r.mode,!Wc(t.mode)))return new TypeError(Mc("0Mp5o","mode",t.mode));if(U(r,"submode")){if(t.submode=r.submode,!_r(t.submode))return new TypeError(Mc("0Mp5p","submode",t.submode));if(0===t.submode.length)return new TypeError(Mc("0Mp5p","submode",t.submode.join(",")));for(e=0;e<t.submode.length;e++)if(!Wc(t.submode[e]))return new TypeError(Mc("invalid option. Each submode must be a recognized mode. Option: `%s`.",t.submode[e]));t.submode=t.submode.slice()}return U(r,"readonly")&&(t.readonly=r.readonly,!Ht.isPrimitive(t.readonly))?new TypeError(Mc("0Mp30","readonly",t.readonly)):null}var $c=32767;function qc(t,r,e,n,i,o,u){var a,f,s,c,h;if(!(this instanceof qc))return arguments.length<7?new qc(t,r,e,n,i,o):new qc(t,r,e,n,i,o,u);if(!Cn(t))throw new TypeError(Mc("invalid argument. First argument must be a supported ndarray data type. Value: `%s`.",t));if(!_(r))throw new TypeError(Mc("invalid argument. Second argument must be an array-like object, typed-array-like, or a Buffer. Value: `%s`.",r));if(r.get&&r.set&&(!Lr(r.get)||!Lr(r.set)))throw new TypeError(Mc("invalid argument. Second argument `get` and `set` properties must be functions. Value: `%s`.",r));if(!Bt.primitives(e)&&(!_(e)||e.length>0))throw new TypeError(Mc("invalid argument. Third argument must be an array-like object containing nonnegative integers. Value: `%s`.",e));if((a=e.length)>$c)throw new RangeError(Mc("invalid argument. Number of dimensions must not exceed %u due to stack limits. Value: `%u`.",$c,a));if(!Ct.primitives(n))throw new TypeError(Mc("invalid argument. Fourth argument must be an array-like object containing integers. Value: `%s`.",n));if(a>0){if(n.length!==a)throw new RangeError(Mc("invalid argument. Fourth argument length must match the number of dimensions. Expected number of dimensions: `%u`. Strides length: `%u`.",a,n.length))}else{if(1!==n.length)throw new RangeError("invalid argument. Fourth argument length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError(Mc("invalid argument. Fourth argument must contain a single element equal to 0. Value: `%d`.",n[0]))}if(!At.isPrimitive(i))throw new TypeError(Mc("0Mp5v",i));if(!Gr(o))throw new TypeError(Mc("invalid argument. Sixth argument must be a supported order. Value: `%s`.",o));if(a>0&&!kn(r.length,e,n,i)&&zn(e)>0)throw new Error("invalid arguments. Input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((f={}).mode=Nc,f.readonly=Yc,arguments.length>6&&(s=Xc(f,u)))throw s;return this._mode=f.mode,void 0===f.submode&&(f.submode=[this._mode]),this._submode=f.submode,c=zc(e,a),h=zc(n,a||1),Iu.call(this,t,r,c,h,i,o),this._flags.READONLY=f.readonly,this}return Du(qc,Iu),v(qc,"name","ndarray"),v(qc.prototype,"get",(function(){var t,r,e,n;if(arguments.length!==this._ndims)throw new RangeError(Mc("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(t=this._offset,e=this._submode.length,n=0;n<arguments.length;n++){if(!pt.isPrimitive(arguments[n]))throw new TypeError(Mc("invalid argument. Indices must be integer valued. Argument: `%u`. Value: `%s`.",n,arguments[n]));r=Fc(arguments[n],this._shape[n]-1,this._submode[n%e]),t+=this._strides[n]*r}return this._accessors?this._buffer.get(t):this._buffer[t]})),v(qc.prototype,"iget",(function(t){if(this._ndims>0){if(!pt.isPrimitive(t))throw new TypeError(Mc("invalid argument. Index must be an integer. Value: `%s`.",t));return t=Fc(t,this._length-1,this._mode),Vc.call(this,t)}return Vc.call(this)})),v(qc.prototype,"set",(function(){var t,r,e,n;if(this._flags.READONLY)throw new Error(Mc("0Mp0e"));if(arguments.length!==this._ndims+1)throw new RangeError(Mc("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(t=this._offset,e=this._submode.length,n=0;n<arguments.length-1;n++){if(!pt.isPrimitive(arguments[n]))throw new TypeError(Mc("0Mp5n",n,arguments[n]));r=Fc(arguments[n],this._shape[n]-1,this._submode[n%e]),t+=this._strides[n]*r}return this._accessors?this._buffer.set(arguments[n],t):this._buffer[t]=arguments[n],this})),v(qc.prototype,"iset",(function(t,r){if(this._flags.READONLY)throw new Error(Mc("0Mp0e"));if(this._ndims>0){if(!pt.isPrimitive(t))throw new TypeError(Mc("invalid argument. Index must be an integer. Value: `%s`.",t));t=Fc(t,this._length-1,this._mode),kc.call(this,t,r)}else kc.call(this,t);return this})),qc}));
//# sourceMappingURL=index.js.map
